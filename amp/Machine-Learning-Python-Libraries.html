<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>Machine Learning Python Libraries</title>
    <link rel="canonical" href="https://abyte.streamhttps://abyte.stream/Machine-Learning-Python-Libraries/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        .header-post {
        background-color: rgb(0, 95, 151);
        min-height: 23.25rem;
        width: 100%;
        }
        .header-post .content {
        width: 95%;
        text-align: center;
        padding-top: 8.75rem;
        padding-right: 0px;
        padding-bottom: 4.125rem;
        padding-left: 0px;
        margin-top: auto;
        margin-right: auto;
        margin-bottom: auto;
        margin-left: auto;
        max-width: 50rem;
        }
        .header-post .date {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1rem;
        }
        .header-post h1, .header-post .subtitle, .header-post .date {
        color: rgb(255, 255, 255);
        text-align: center;
        }
        h1 {
        font-size: 2em;
        margin-top: 0.67em;
        margin-right: 0px;
        margin-bottom: 0.67em;
        margin-left: 0px;
        }
        h1, h2, h3, h4 {
        font-family: "Open Sans", sans-serif;
        font-weight: 800;
        font-style: normal;
        }
        .header-post h1 {
        font-size: 1.875rem;
        margin-top: 0px;
        margin-right: 0px;
        margin-bottom: 30px;
        margin-left: 0px;
        text-shadow: rgb(0, 76, 121) 3px 3px;
        }
        .header-post .subtitle {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.25rem;
        }
        .header-post a, .header-post p {
        color: rgb(255, 255, 255);
        text-decoration-line: none;
        text-decoration-style: initial;
        text-decoration-color: initial;
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.125rem;
        }

        article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
        display: block;
        }
        figure {
        margin-top: 1em;
        margin-right: 40px;
        margin-bottom: 1em;
        margin-left: 40px;
        }
        .highlight {
        margin-top: 1.25rem;
        margin-right: 0px;
        margin-bottom: 1.25rem;
        margin-left: 0px;
        }
        pre {
        overflow-x: auto;
        overflow-y: auto;
        background-image: initial;
        background-position-x: initial;
        background-position-y: initial;
        background-size: initial;
        background-repeat-x: initial;
        background-repeat-y: initial;
        background-attachment: initial;
        background-origin: initial;
        background-clip: initial;
        background-color: rgb(34, 34, 34);
        width: 100%;
        padding-top: 1.25rem;
        padding-right: 0px;
        padding-bottom: 1.25rem;
        padding-left: 0px;
        color: rgb(255, 255, 255);
        margin-top: 1.875rem;
        margin-right: 0px;
        margin-bottom: 1.875rem;
        margin-left: 0px;
        font-size: 0.875rem;
        }
        code, kbd, pre, samp {
        font-family: monospace, monospace;
        font-size: 1em;
        }
        pre code {
        width: auto;
        max-width: 50rem;
        float: none;
        display: block;
        margin-right: auto;
        margin-left: auto;
        padding-top: 0px;
        padding-right: 1.25rem;
        padding-bottom: 0px;
        padding-left: 1.25rem;
        }
        pre code::after {
        clear: both;
        }
        pre span {
        line-height: 1.5rem;
        font-family: Monaco, Consolas, Menlo, monospace;
        }
        .highlight .c, .highlight .cm, .highlight .cp, .highlight .c1, .highlight .cs {
        color: rgb(117, 113, 94);
        }
        .highlight .m, .highlight .n, .highlight .nb, .highlight .ni, .highlight .nl, .highlight .nn, .highlight .py, .highlight .nv, .highlight .w, .highlight .bp, .highlight .vc, .highlight .vg, .highlight .vi {
        color: rgb(164, 208, 67);
        }
        .highlight .o, .highlight .p {
        color: rgb(247, 247, 242);
        }
        .highlight .ld, .highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr, .highlight .s1, .highlight .ss {
        color: rgb(230, 219, 116);
        }
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
<header class="header-post" role="banner">
        <div class="content" style="transform: translateY(0px); opacity: 1;">
            
                <time itemprop="datePublished" datetime="2018-12-14T18:57:06-05:00" class="date">14 Dec 2018 - sanjaypatel2525</time>
            
            <h1 class="post-title" itemprop="name">Machine Learning Python Libraries</h1>
            <p itemprop="description" class="subtitle"></p>
        </div>
</header>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<p>This is not a extensive detailed guide for machine learning libraries. It is a small extract of common feature of these libraries and there usage.</p>

<p>There are many Python packages used in ML, but here are some important ones.</p>
<ul>
  <li>NumPy - Everything related to Maths, formulas, series, multidimensional arrays and operations etc.</li>
  <li>SciPy - For statistical analysis, extension of Numpy</li>
  <li>Pandas - Dealing with data reading/writing/manipulation from/to CSV,database,excel etc, cleaning, filtering.</li>
  <li>Seaborn - For data visualization</li>
  <li>Matplotlib - For data visualization, Seaborn is extension over Matplotlib.</li>
  <li>Scikit-learn - Provides ready to use ML algorithms, based on NumPy, SciPy.</li>
</ul>

<h1 id="numpy">Numpy</h1>
<h2 id="numpy-array">Numpy array</h2>
<figure class="highlight"><pre><code class="language-python" data-lang="python">  <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
  <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
  <span class="c1"># a = np.array([1, 2], dtype=np.int64) define datatype manually
</span>  <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">))</span> <span class="c1"># Prints "&lt;class 'numpy.ndarray'&gt;"
</span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># Prints "(3,)"
</span>  <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">5</span> <span class="c1"># Change an element of the array
</span>  <span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1"># Prints "[5, 2, 3]"
</span>  <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]])</span>    <span class="c1"># Create a rank 2 array
</span>  <span class="k">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span> <span class="c1"># Prints "(2, 3)"
</span>
  <span class="c1"># initialize with zeros, ones, any other number by np.full((2,2), 7)
</span>  <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span> <span class="c1"># [[ 0.  0.][ 0.  0.]]
</span>  <span class="c1"># eye for diagonal filled with given number and others zero.
</span>  <span class="n">a</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>  <span class="c1"># [[ 1.  0.] [ 0.  1.]]
</span>
  <span class="c1"># Slicing
</span>  <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">:]</span> <span class="c1"># second row and all column. It will be 1 D, rank 1
</span>  <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="p">:]</span> <span class="c1"># second row and all column but it will be of 2 rank or 2D.
</span>  <span class="c1"># a[[0, 0], [1, 1]] is equivalent to [a[0, 1], [0, 1]]
</span>  <span class="c1"># a[[0, 1, 2], [0, 1, 0]] is equivalent to [a[0, 0], a[1, 1], a[2, 0]])
</span>
  <span class="c1"># Evaluate condition
</span>  <span class="n">bool_idx</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span> <span class="c1"># prints true or false based on condition[[False False][ True  True][ True  True]]
</span>  <span class="c1"># a[bool_idx] and  a[a &gt; 2] will print 1D array of all value matching the criteria.
</span>
  <span class="c1"># array maths
</span>  <span class="k">print</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>  <span class="c1"># same as above, all other operator are like this.
</span>
  <span class="c1"># matrix multiplication
</span>  <span class="n">np</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">or</span> <span class="n">x</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

  <span class="c1"># Generate array
</span>  <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="c1"># will start form 10 upto 20 step by 2.
</span>
  <span class="c1"># reshape array
</span>  <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>

  <span class="c1"># Flat, flatten, ravel
</span>  <span class="n">a</span><span class="o">.</span><span class="n">flatten</span><span class="p">(</span><span class="n">order</span> <span class="o">=</span> <span class="s">'F'</span><span class="p">)</span>

  <span class="c1"># Sum
</span>  <span class="n">a</span><span class="o">.</span><span class="nb">sum</span><span class="p">()</span> <span class="c1"># sums up all element
</span>  <span class="n">a</span><span class="o">.</span><span class="nb">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">,</span><span class="o">..</span><span class="p">)))</span> <span class="c1"># sum over i j .. axis
</span>

  <span class="c1"># get Diagonal
</span>  <span class="n">np</span><span class="o">.</span><span class="n">diagonal</span><span class="p">()</span>
  <span class="n">np</span><span class="o">.</span><span class="n">diagonal</span><span class="p">(</span><span class="n">offset</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
  
  <span class="c1"># Sum over principal diagonal or trace
</span>  <span class="n">np</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>

  <span class="c1"># using random
</span>  <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  
  <span class="c1">#Generate 3 random integers b/w 1 and 10
</span>  <span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>

  <span class="c1"># get random from normal distribution
</span>  <span class="k">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span></code></pre></figure>

<ul>
  <li>
    <p>Numpy gives a class which helps to create homogeneous structure, you can say numpy defined datatypes. Here is signature, need not to remember.
<code class="highlight language-python" data-lang="python"><span class="n">numpy</span><span class="o">.</span><span class="n">dtype</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">align</span><span class="p">,</span> <span class="n">copy</span><span class="p">)</span>
<span class="n">dt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">dtype</span><span class="p">([(</span><span class="s">'age'</span><span class="p">,</span><span class="n">np</span><span class="o">.</span><span class="n">int8</span><span class="p">)])</span> 
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">10</span><span class="p">,),(</span><span class="mi">20</span><span class="p">,),(</span><span class="mi">30</span><span class="p">,)],</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">dt</span><span class="p">)</span> 
<span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="s">'age'</span><span class="p">)</span> <span class="c1"># can sort by custom defined objects</span></code></p>
  </li>
  <li>
    <p>A closure look to array.
<code class="highlight language-java" data-lang="java"><span class="n">numpy</span><span class="o">.</span><span class="na">array</span><span class="o">(</span><span class="n">object</span><span class="o">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="nc">None</span><span class="o">,</span> <span class="n">copy</span> <span class="o">=</span> <span class="nc">True</span><span class="o">,</span> <span class="n">order</span> <span class="o">=</span> <span class="nc">None</span><span class="o">,</span> <span class="n">subok</span> <span class="o">=</span> <span class="nc">False</span><span class="o">,</span> <span class="n">ndmin</span> <span class="o">=</span> <span class="mi">0</span><span class="o">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="na">array</span><span class="o">([</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">],</span> <span class="n">ndmin</span><span class="o">=</span><span class="mi">2</span><span class="o">,</span><span class="n">dtype</span> <span class="o">=</span> <span class="n">complex</span><span class="o">)</span> 
<span class="err">#</span> <span class="o">[</span> <span class="mi">1</span><span class="o">.+</span><span class="mi">0</span><span class="o">.</span><span class="na">j</span><span class="o">,</span>  <span class="mi">2</span><span class="o">.+</span><span class="mi">0</span><span class="o">.</span><span class="na">j</span><span class="o">,</span>  <span class="mi">3</span><span class="o">.+</span><span class="mi">0</span><span class="o">.</span><span class="na">j</span><span class="o">]</span></code></p>
  </li>
  <li>
    <p>Read order of n dimension. C -(2,3,4) the read sequence will variate on 4 most then 3 and then 2. F- (2,3,4) 2 will variate most. It doesn’t impact how array store in memory, only read mode is changed.</p>
  </li>
  <li>
    <p>Iterate ove array
<code class="highlight language-python" data-lang="python"><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">nditer</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">order</span> <span class="o">=</span> <span class="s">'F'</span><span class="p">,</span><span class="n">op_flags</span> <span class="o">=</span> <span class="p">[</span><span class="s">'readwrite'</span><span class="p">]):</span>  <span class="c1"># default order is C, OP flags defaults to read.
</span>   <span class="k">print</span> <span class="n">x</span><span class="p">,</span></code></p>
  </li>
</ul>

<p><span class="c1"># broadcasted iteration of vector and matrix
</span><span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">nditer</span><span class="p">([</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">]):</span> <span class="c1"># x(3,4) and y is(1,3) or y(3)
</span>   <span class="k">print</span> <span class="s">”</span><span class="si">%</span><span class="s">d:</span><span class="si">%</span><span class="s">d”</span> <span class="o">%</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">),</span>&lt;/code&gt;</p>

<h2 id="numpy-linear-algebra">Numpy linear algebra</h2>
<figure class="highlight"><pre><code class="language-python" data-lang="python">  <span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> 
  <span class="n">dot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">result</span><span class="p">)</span> <span class="c1"># matrix multiplication
</span>  <span class="n">vdot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="c1">#element vise
</span>  <span class="n">inner</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="c1"># u&lt;sup&gt;T&lt;/sup&gt;
</span>  <span class="n">outer</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="c1"># uv&lt;sup&gt;T&lt;/sup&gt;
</span>  <span class="n">pinv</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1"># psudo inverse
</span>  <span class="n">inv</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1"># true inverse
</span>  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">eig</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="c1">#eign value
</span>  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">norm</span><span class="p">(</span><span class="n">x</span><span class="p">[,</span> <span class="nb">ord</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="n">keepdims</span><span class="p">])</span> <span class="c1"># 1,2,p,infinity
</span>  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">matrix_rank</span><span class="p">(</span><span class="n">M</span><span class="p">[,</span> <span class="n">tol</span><span class="p">,</span> <span class="n">hermitian</span><span class="p">])</span>
  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="c1"># solve for x where ax=b
</span>  <span class="n">np</span><span class="o">.</span><span class="n">linalg</span><span class="o">.</span><span class="n">tensorsolve</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span> <span class="c1"># solve for x where ax=b, in n dimension</span></code></pre></figure>
<p><strong>Eign vector and value</strong> of Matrix is arbitrary λ and v for a matrix A. which specifies ratio of vector dimensions and a magnitude respectively.  Eign vector ratio sum need not to be 1 but just to give better picture they are scaled to sum 1.</p>

<p><strong>Pseduo inverse</strong> - Sometime A<sup>-1</sup> is not defined as |A| is 0. So we calculate X which is very close to A<sup>-1</sup>.
<script type="math/tex">A^{-1}=I, AA^{-1}-I = 0, AX-I \text{ is close to 0}</script></p>

<p><strong>Harmition Matrix</strong> - <script type="math/tex">A_{ij} = \bar A_{ij}</script>. Conjugate matrix of complex number and transposed.</p>

<p><strong>Echelon Matrix</strong> - Matrix starts with 1 and every new row start 1 column after.</p>

<p><strong>Orthogonal Matrix</strong> - AA<sup>T</sup>=I.</p>

<p><strong>Matrix Rank</strong> - Calculate by reducing the lenearly dependent rows. Minimize it by row to row computaion and try to make them 0. It is computed by bringing matrix to echelon matrix form.</p>

<p><strong>LU decomposition</strong> - A = LU. L is lower traingular matrix and U is upper triangular matrix.</p>

<p><strong>Cholesky Decomposition</strong> - A = LL<sup>T&lt;/sip&gt;, where L is hermitian matrix.</sup></p>

<p><strong>QR Decomposition</strong> - A =QR where Q is Orthogonal Matrix and R is upper traingular.</p>

<p><strong>SVD</strong> - A = USV<sup>T</sup> where U<sup>T</sup>U=I, V<sup>T</sup>V =I</p>

<h2 id="pandas">Pandas</h2>
<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># Types series and dataframe.
</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">])</span>
<span class="n">xyz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">],[</span><span class="mi">400</span><span class="p">,</span><span class="mi">500</span><span class="p">,</span><span class="mi">600</span><span class="p">]],</span><span class="n">columns</span><span class="o">=</span><span class="p">[],</span><span class="n">index</span><span class="o">=</span><span class="p">[])</span>

<span class="c1"># Read Data from file.
</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'xyz.csv'</span><span class="p">,</span> <span class="n">delimiter</span> <span class="o">=</span> <span class="s">';'</span><span class="p">)</span> <span class="c1"># read csv
</span><span class="n">xlsx</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">ExcelFile</span><span class="p">(</span><span class="s">'file.xls'</span><span class="p">)</span> <span class="c1"># read all sheets in excel
</span><span class="n">xyz</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">xlsx</span><span class="p">,</span>  <span class="s">'Sheet1'</span><span class="p">)</span> <span class="c1"># read sheet in excel
</span>
<span class="c1"># Read from SQL
</span><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s">'sqlite:///:memory:'</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">my_table</span><span class="p">;,</span> <span class="n">engine</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_sql_table</span><span class="p">(</span><span class="s">'my_table'</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">read_sql_query</span><span class="p">(</span><span class="n">SELECT</span> <span class="o">*</span> <span class="n">FROM</span> <span class="n">my_table</span><span class="p">;</span><span class="s">', engine)</span><span class="err">
</span><span class="s">xyz.to_sql('</span><span class="n">myDf</span><span class="s">', engine)</span><span class="err">

</span><span class="s"># provide customer headers and index name</span><span class="err">
</span><span class="s">xyz  = pd.read_csv('</span><span class="n">xyz</span><span class="o">.</span><span class="n">csv</span><span class="s">', delimiter='</span><span class="p">;</span><span class="s">', names = ['</span><span class="n">firstname</span><span class="s">', '</span><span class="n">lastname</span><span class="s">', '</span><span class="n">country</span><span class="s">', '</span><span class="n">user_id</span><span class="s">', '</span><span class="n">source</span><span class="s">', '</span><span class="n">topic</span><span class="s">'])</span><span class="err">

</span><span class="s"># head, tail, random</span><span class="err">
</span><span class="s">xyz.head()</span><span class="err">
</span><span class="s">xyz.tail()</span><span class="err">
</span><span class="s">xyz.random(5)</span><span class="err">

</span><span class="s"># Get the data</span><span class="err">
</span><span class="s">xyz.iloc([0], [0]) or xyz.iat([0], [0]) # get row=0,column=0 value</span><span class="err">
</span><span class="s">xyz.loc([0],  ['</span><span class="n">Country</span><span class="s">']) # by label</span><span class="err">
</span><span class="s">xyz[</span><span class="err">\</span><span class="s">['</span><span class="n">firstname</span><span class="s">','</span><span class="n">lastname</span><span class="s">']] # it will return dataframe</span><span class="err">
</span><span class="s">xyz['</span><span class="n">firstname</span><span class="s">'] or xyz.firstname # will return series</span><span class="err">


</span><span class="s"># filter data</span><span class="err">
</span><span class="s">xyz['</span><span class="n">firstname</span><span class="s">'='</span><span class="n">abc</span><span class="s">']</span><span class="err">
</span><span class="s">xyz[xyz['</span><span class="n">col1</span><span class="s">']&gt;10 &amp; xyz['</span><span class="n">col2</span><span class="s">']='</span><span class="n">san</span><span class="s">']</span><span class="err">
</span><span class="s"># or with some condition ie starts with.</span><span class="err">
</span><span class="s">condition =  xyz.firstname.startswith('</span><span class="n">a</span><span class="s">', na=False)</span><span class="err">
</span><span class="s">xyz = xyz[condition]</span><span class="err">

</span><span class="s"># Remove data.</span><span class="err">
</span><span class="s">xyz.drop([val1,val2]) // if indexes has name, drop based on indexes.</span><span class="err">
</span><span class="s">xyz.drop(xyz.index([2,-3])) // drop row with index 2 and 3 from the last.</span><span class="err">
</span><span class="s">xyz.drop([col1,col2],axis=1) // remove columns from dataframe</span><span class="err">
</span><span class="s">xyz.drop(xyz[df.col1 &lt; 50].index) //find and drop by index.</span><span class="err">


</span><span class="s">#Handle null or na</span><span class="err">
</span><span class="s">xyz.dropna() or xyz.dropna(axis=1) @ dropping the row or column who have null values.</span><span class="err">
</span><span class="s">xyz.isnull().sum() # get count of null records.</span><span class="err">
</span><span class="s">xyz.fillna(meanofxyz, inplace=True)</span><span class="err">


</span><span class="s"># Aggregate</span><span class="err">
</span><span class="s">xyz.count() # will print count of non na of each column</span><span class="err">
</span><span class="s">xyz.sum(), max, min, mean, median</span><span class="err">
</span><span class="s">xyz[col1].value_counts() # does group by on col1 and counts the frequency</span><span class="err">

</span><span class="s"># custom function commulative over column</span><span class="err">
</span><span class="s">somfunction = lambda x: x.max()-x.min()</span><span class="err">
</span><span class="s">xyz.applymap(somfunction)</span><span class="err">

</span><span class="s"># Series map function -same as applymap</span><span class="err">
</span><span class="s">xyz['</span><span class="n">col1</span><span class="s">'].map(format)</span><span class="err">

</span><span class="s"># custom function applied on each element such change format of data</span><span class="err">
</span><span class="s">format = lambda x: '</span><span class="o">%</span><span class="mf">.2</span><span class="n">f</span><span class="s">' </span><span class="si">% </span><span class="s">x</span><span class="err">
</span><span class="s">xyz.apply(format)</span><span class="err">

</span><span class="s">#Group By - Group on some column and aggregate on others</span><span class="err">
</span><span class="s">xyz.groupby('</span><span class="n">animal</span><span class="s">').mean()</span><span class="err">

</span><span class="s"># Joins. By default panda find join key to join by matching name if not you have to specify separately. Also, you can choose join strategy inner, outer,left, right. Let'</span><span class="n">s</span> <span class="n">say</span> <span class="n">zoo</span> <span class="n">has</span> <span class="n">animals</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">columns</span> <span class="ow">and</span> <span class="n">zoo_eats</span> <span class="n">has</span> <span class="n">animal</span> <span class="ow">and</span> <span class="n">what</span> <span class="n">animal</span> <span class="n">eats</span><span class="o">.</span>
<span class="n">zoo</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">zoo_eats</span><span class="p">,</span> <span class="n">how</span> <span class="o">=</span> <span class="s">'left'</span><span class="p">,</span> <span class="n">left_on</span> <span class="o">=</span> <span class="s">'animal'</span><span class="p">,</span> <span class="n">right_on</span> <span class="o">=</span> <span class="s">'animal'</span><span class="p">)</span>

<span class="c1"># fill missing
</span><span class="n">xyz</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s">'unknown'</span><span class="p">)</span>

<span class="c1"># Sorting.
</span><span class="n">xyz</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">col1</span><span class="p">)</span> <span class="ow">or</span> <span class="n">xyz</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span> <span class="o">=</span> <span class="p">[</span><span class="s">'col1'</span><span class="p">,</span> <span class="s">'col2'</span><span class="p">],</span> <span class="n">ascending</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>

<span class="c1">#reset index after sort sequence is changed.
</span><span class="n">xyz</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<span class="n">xyz</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="c1"># remove old index column.</span></code></pre></figure>


<footer>
  <p>Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a></p>
</footer>
</body>
</html>