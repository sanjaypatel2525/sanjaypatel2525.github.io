<!doctype html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>Java 8 double colon operator</title>
    <link rel="canonical" href="https://abyte.stream/java-8-double-colon-operator/" />
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <style amp-custom>
        .header-post {
        background-color: rgb(0, 95, 151);
        min-height: 23.25rem;
        width: 100%;
        }
        .header-post .content {
        width: 95%;
        text-align: center;
        padding-top: 8.75rem;
        padding-right: 0px;
        padding-bottom: 4.125rem;
        padding-left: 0px;
        margin-top: auto;
        margin-right: auto;
        margin-bottom: auto;
        margin-left: auto;
        max-width: 50rem;
        }
        .header-post .date {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1rem;
        }
        .header-post h1, .header-post .subtitle, .header-post .date {
        color: rgb(255, 255, 255);
        text-align: center;
        }
        h1 {
        font-size: 2em;
        margin-top: 0.67em;
        margin-right: 0px;
        margin-bottom: 0.67em;
        margin-left: 0px;
        }
        h1, h2, h3, h4 {
        font-family: "Open Sans", sans-serif;
        font-weight: 800;
        font-style: normal;
        }
        .header-post h1 {
        font-size: 1.875rem;
        margin-top: 0px;
        margin-right: 0px;
        margin-bottom: 30px;
        margin-left: 0px;
        text-shadow: rgb(0, 76, 121) 3px 3px;
        }
        .header-post .subtitle {
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.25rem;
        }
        .header-post a, .header-post p {
        color: rgb(255, 255, 255);
        text-decoration-line: none;
        text-decoration-style: initial;
        text-decoration-color: initial;
        font-family: "Open Sans", sans-serif;
        font-weight: 300;
        font-style: normal;
        font-size: 1.125rem;
        }

        article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary {
        display: block;
        }
        figure {
        margin-top: 1em;
        margin-right: 40px;
        margin-bottom: 1em;
        margin-left: 40px;
        }
        .highlight {
        margin-top: 1.25rem;
        margin-right: 0px;
        margin-bottom: 1.25rem;
        margin-left: 0px;
        }
        pre {
        overflow-x: auto;
        overflow-y: auto;
        background-image: initial;
        background-position-x: initial;
        background-position-y: initial;
        background-size: initial;
        background-repeat-x: initial;
        background-repeat-y: initial;
        background-attachment: initial;
        background-origin: initial;
        background-clip: initial;
        background-color: rgb(34, 34, 34);
        width: 100%;
        padding-top: 1.25rem;
        padding-right: 0px;
        padding-bottom: 1.25rem;
        padding-left: 0px;
        color: rgb(255, 255, 255);
        margin-top: 1.875rem;
        margin-right: 0px;
        margin-bottom: 1.875rem;
        margin-left: 0px;
        font-size: 0.875rem;
        }
        code, kbd, pre, samp {
        font-family: monospace, monospace;
        font-size: 1em;
        }
        pre code {
        width: auto;
        max-width: 50rem;
        float: none;
        display: block;
        margin-right: auto;
        margin-left: auto;
        padding-top: 0px;
        padding-right: 1.25rem;
        padding-bottom: 0px;
        padding-left: 1.25rem;
        }
        pre code::after {
        clear: both;
        }
        pre span {
        line-height: 1.5rem;
        font-family: Monaco, Consolas, Menlo, monospace;
        }
        .highlight .c, .highlight .cm, .highlight .cp, .highlight .c1, .highlight .cs {
        color: rgb(117, 113, 94);
        }
        .highlight .m, .highlight .n, .highlight .nb, .highlight .ni, .highlight .nl, .highlight .nn, .highlight .py, .highlight .nv, .highlight .w, .highlight .bp, .highlight .vc, .highlight .vg, .highlight .vi {
        color: rgb(164, 208, 67);
        }
        .highlight .o, .highlight .p {
        color: rgb(247, 247, 242);
        }
        .highlight .ld, .highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .si, .highlight .sx, .highlight .sr, .highlight .s1, .highlight .ss {
        color: rgb(230, 219, 116);
        }
    </style>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>
<header class="header-post" role="banner">
        <div class="content" style="transform: translateY(0px); opacity: 1;">
            
                <time itemprop="datePublished" datetime="2018-09-15T22:43:51-04:00" class="date">15 Sep 2018 - sanjaypatel2525</time>
            
            <h1 class="post-title" itemprop="name">Java 8 double colon operator</h1>
            <p itemprop="description" class="subtitle"></p>
        </div>
</header>
<h2 id="lambda-for-method-reference-or-java-double-colon-operator">Lambda for Method reference Or Java Double colon operator</h2>
<p>What is the Java 8 double colon operator ? You must have seen some short code like,</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span></code></pre></figure>
<p>In order to understand better, you must know about functional interface. Please check blog <a href="https://abyte.stream/2018/09/10/java-lambda-and-procedural-programming">Java lambda and functional programming.</a>
Java 8  method (functional interface) are just like objects, They can be passed as parameters and can be returned from another method. So why not assign Java methods to a new another variable.  Something like javascript.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kt">var</span> <span class="n">squareFunc1</span> <span class="o">=</span> <span class="n">function</span><span class="o">(</span><span class="kt">var</span> <span class="n">x</span><span class="o">){</span>
<span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">;</span>
<span class="o">}</span>
<span class="kt">var</span> <span class="n">squareFunc2</span> <span class="o">=</span> <span class="n">squareFunc1</span> <span class="o">;</span></code></pre></figure>
<p>Here is how we can do the same in Java.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">interface</span> <span class="nc">Utility</span><span class="o">{</span>
 <span class="kt">int</span> <span class="nf">biggerNumber</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">Utility</span> <span class="n">utility</span> <span class="o">=</span> <span class="nl">Math:</span><span class="o">:</span><span class="n">max</span><span class="o">;</span> <span class="c1">//Assign method definition to another signature matching method.</span>

<span class="n">utility</span><span class="o">.</span><span class="na">biggerNumber</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span><span class="mi">8</span><span class="o">)</span> <span class="c1">// returns 8</span></code></pre></figure>
<p>So above you can see, We have created an interface with only one abstract method having signature same as the signature of Math.max method. Later we have assigned the definition of Math.max to Utility. Which mean the definition is assigned is to Utility .biggerNumber. Now we can call the method as shown in the last line.
There are different ways to where we can use double operator lambda operator</p>

<h3 id="static-method-reference">Static method reference</h3>
<p>Assign static method to a matching functional interface. as shown in line 9</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">StringSearch</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">search</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">find</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">s1</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="n">s2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">StringSearch</span> <span class="n">search</span> <span class="o">=</span> <span class="nl">MyClass:</span><span class="o">:</span><span class="n">find</span><span class="o">;</span> <span class="c1">// Line 9.</span></code></pre></figure>

<h3 id="parameter-method-reference">Parameter method reference</h3>
<p>Here functional interface with two parameters gets the definition from a method having only one parameter. Stange !!.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">StringSearch</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">search</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">);</span>
<span class="o">}</span>

<span class="n">str1</span><span class="o">.</span><span class="na">indexOf</span><span class="o">(</span><span class="n">String</span> <span class="n">str2</span><span class="o">)</span> <span class="c1">// line 4</span>

<span class="n">StringSearch</span> <span class="n">search</span><span class="o">=</span> <span class="nl">String:</span><span class="o">:</span><span class="n">indexOf</span><span class="o">;</span></code></pre></figure>
<p>Not so strange, The object type on which method is called and method parameters are matched to the functional interface. In this StringSearch.search take two param and params are matched to str1 and str2 from line 4.
Instance method reference<br>
This one is the same as the static method reference.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">StringSearch</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">search</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">);</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyClass</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">find</span><span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">){</span>
        <span class="k">return</span> <span class="n">s1</span><span class="o">.</span><span class="na">lastIndexOf</span><span class="o">(</span><span class="n">s2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="n">MyClass</span> <span class="n">myClass</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyClass</span><span class="o">();</span>
<span class="n">StringSearch</span> <span class="n">search</span> <span class="o">=</span> <span class="nl">myClass:</span><span class="o">:</span><span class="n">find</span><span class="o">;</span> <span class="c1">// Line 9.</span></code></pre></figure>

<h3 id="constructor-reference">Constructor reference.</h3>
<p>This is the one, It can be very handy in factory patterns.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">StringFactory</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">create</span><span class="o">(</span><span class="kt">char</span><span class="o">[]</span> <span class="n">val</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">StringFactory</span> <span class="n">factory</span> <span class="o">=</span> <span class="nl">String:</span><span class="o">:</span><span class="k">new</span><span class="o">;</span></code></pre></figure>

<p>These were the few examples of how we can use Java lambda to reduce code length and make it more readable. Since these expressions represent function declaration hence these Java 8 double colon operator can be used in place of Java 8 arrow function. For example.</p>
<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">Utility</span><span class="err"> </span><span class="n">utility</span><span class="err"> </span><span class="o">=</span> <span class="nl">Math:</span><span class="o">:</span><span class="n">max</span>
<span class="n">Or</span> 
<span class="n">Utility</span><span class="err"> </span><span class="n">utility</span><span class="err"> </span><span class="o">=</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span><span class="n">y</span><span class="o">)</span> <span class="o">-&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="k">return</span> <span class="n">x</span> <span class="o">&amp;</span><span class="n">gt</span><span class="o">;</span> <span class="n">y</span> <span class="o">?</span> <span class="nl">x:</span> <span class="n">y</span><span class="o">;</span></code></pre></figure>
<p> </p>

<footer>
  <p>Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a></p>
</footer>
</body>
</html>